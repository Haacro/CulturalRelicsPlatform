"use strict";(self["webpackChunkculturalrelicsplatform"]=self["webpackChunkculturalrelicsplatform"]||[]).push([[896],{896:function(e,r,s){s.r(r),s.d(r,{default:function(){return u}});var t=function(){var e=this,r=e._self._c;return r("div",[r("el-card",{staticClass:"box-card"},[r("h2",{staticStyle:{"text-align":"center"}},[e._v("登录")]),r("el-form",{ref:"ruleForm",staticClass:"login-from",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-position":"left","label-width":"70px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"usersname"}},[r("el-input",{model:{value:e.ruleForm.usersname,callback:function(r){e.$set(e.ruleForm,"usersname",r)},expression:"ruleForm.usersname"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1)],1),r("div",{staticClass:"btnGroup"},[r("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("登录")]),r("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("重置")]),r("router-link",{attrs:{to:"/register"}},[r("el-button",{staticStyle:{"margin-left":"10px"}},[e._v("注册")])],1),r("el-button",{staticStyle:{"margin-left":"10px"},on:{click:e.goBack}},[e._v("返回")])],1)],1)],1)},a=[],o=(s(4114),{data(){return{ruleForm:{usersname:"",password:""},rules:{usersname:[{required:!0,message:"用户名不能为空！",trigger:"blur"}],password:[{required:!0,message:"密码不能为空！",trigger:"blur"}]},loading:!1}},methods:{submitForm(e){this.$refs[e].validate((e=>{if(this.loading=!0,!e)return console.log("error submit!!"),this.loading=!1,!1;{let e=this;this.axios({url:"http://localhost:8096/login",method:"post",headers:{"Content-Type":"application/json"},data:{usersname:e.ruleForm.usersname,password:e.ruleForm.password}}).then((r=>{alert(r.data),"1"==r.data.code?(sessionStorage.setItem("userInfo",JSON.stringify(r.data.data)),this.$router.push({name:"home"}),this.$message({message:r.data.msg,type:"success"})):this.$message({message:r.data.msg,type:"warning"}),e.loading=!1,console.log(r)}))}}))},resetForm(e){this.$refs[e].resetFields()},goBack(){this.$router.go(-1)}}}),l=o,i=s(1656),n=(0,i.A)(l,t,a,!1,null,"b633bf14",null),u=n.exports}}]);
//# sourceMappingURL=896.d3c0ebc6.js.map