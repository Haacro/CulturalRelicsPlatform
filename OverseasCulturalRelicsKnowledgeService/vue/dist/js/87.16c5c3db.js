"use strict";(self["webpackChunkculturalrelicsplatform"]=self["webpackChunkculturalrelicsplatform"]||[]).push([[87],{8087:function(t,a,e){e.r(a),e.d(a,{default:function(){return u}});var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"home-page"},[a("div",{staticClass:"top-section"},[a("div",{staticClass:"platform-name"},[t._v("海外藏中国文物知识管理与服务平台")]),a("div",{staticClass:"navigation"},[a("router-link",{attrs:{to:"/home"}},[t._v("首页")]),a("router-link",{attrs:{to:"/browse"}},[t._v("文物浏览")]),a("router-link",{attrs:{to:"/search"}},[t._v("查询")]),a("a",{attrs:{href:"http://101.201.109.37:7474/browser/",target:"_blank"}},[t._v("可视化")]),a("router-link",{attrs:{to:"/timeline"}},[t._v("时间轴")]),a("router-link",{attrs:{to:"/login"}},[t._v("用户信息管理")])],1)]),a("div",{staticClass:"artifact-list"},[a("div",{staticClass:"pagination-sort"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalArtifacts},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("el-select",{staticClass:"sort-select",attrs:{placeholder:"请选择排序方式"},model:{value:t.sortKey,callback:function(a){t.sortKey=a},expression:"sortKey"}},[a("el-option",{attrs:{label:"朝代",value:"era"}}),a("el-option",{attrs:{label:"类型",value:"category"}}),a("el-option",{attrs:{label:"博物馆",value:"museum"}})],1),a("el-button",{on:{click:t.sortArtifacts}},[t._v("排序")])],1),a("div",{staticClass:"card-container"},t._l(t.displayedArtifacts,(function(e){return a("el-col",{key:e.id,attrs:{span:24}},[a("el-card",{staticClass:"artifact-card",attrs:{shadow:"hover"}},[a("el-col",{attrs:{span:8}},[a("img",{staticClass:"artifact-image",attrs:{preview:"0",src:e.imageUrl,alt:"文物图片"},on:{click:function(a){return t.toggleImageZoom(e)}}})]),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"info"},[a("div",{staticClass:"item"},[t._v("朝代："+t._s(e.era?e.era:"暂无数据"))]),a("div",{staticClass:"item"},[t._v("尺寸："+t._s(e.size?e.size:"暂无数据"))]),a("div",{staticClass:"item"},[t._v("类型："+t._s(e.category?e.category:"暂无数据"))]),a("div",{staticClass:"item"},[t._v("所属博物馆："+t._s(e.museum?e.museum:"暂无数据"))]),a("div",{staticClass:"item"},[t._v("描述："+t._s(e.details?e.details:"暂无数据"))])])]),a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"artifact-name"},[t._v(t._s(e.name))]),a("el-button",{staticStyle:{float:"right",padding:"auto"},attrs:{type:"text"},on:{click:function(a){return t.viewArtifactDetails(e)}}},[t._v("查看详情")])],1)],1)],1)})),1),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalArtifacts},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},r=[],i=(e(4114),e(8355)),l={data(){return{artifacts:[],currentPage:1,pageSize:10,totalArtifacts:0,sortKey:"",sortClicked:!1}},mounted(){this.fetchArtifacts()},computed:{sortedArtifacts(){return this.sortClicked&&this.sortKey?this.artifacts.slice().sort(((t,a)=>t[this.sortKey].localeCompare(a[this.sortKey]))):this.artifacts.slice()},displayedArtifacts(){const t=(this.currentPage-1)*this.pageSize;return this.sortedArtifacts.slice(t,t+this.pageSize)}},methods:{viewArtifactDetails(t){this.$router.push({name:"details",params:{id:t.id}})},handleSizeChange(t){this.pageSize=t,this.currentPage=1,this.fetchArtifacts()},handleCurrentChange(t){this.currentPage=t,this.fetchArtifacts()},fetchArtifacts(){i.A.get("http://localhost:8096/browse").then((t=>{this.artifacts=t.data.data.rows,this.totalArtifacts=t.data.data.total})).catch((t=>{console.error("Error fetching artifacts:",t)}))},toggleImageZoom(){this.$previewRefresh()},sortArtifacts(){this.sortClicked=!0}}},c=l,o=e(1656),n=(0,o.A)(c,s,r,!1,null,"58cf847e",null),u=n.exports}}]);
//# sourceMappingURL=87.16c5c3db.js.map